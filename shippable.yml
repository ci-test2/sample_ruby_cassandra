language: ruby

services:
  - cassandra
  
env:
  - FOO=foo BAR=bar
  - FOO=bar BAR=foo
  - secure: d3NCwZ1XlLlb8dkNIizTp4yjLsVd842KPEm590aF0kEeZmL+8Pxo8BLXkpXQl5+gKV23NP7eQmaMfDD93fnMWqcSk4IW1JVMccdH1IOExwlAyyAcSOCroYgEAO3ui6EaQp8ptDo9F4gZc27P9x7Gcua9nTaoIRZ2QO+gY9MjXia36nP9oytt8oWrSJclblh3ybbd9jyCrWJJ4eea4BMJZMxwzf0IH/3Ypg30ls50RqZuLqsR9kBXKYPtkvoogyEzddFiEREvWwHGZHoRvM2V6kNbyuiYdVE+ryst7KaV1puaHOwE1Q3/S69uZ5i1Uqy+FCE34JRWZFRsmgLZhJsRgQ==
  #- secure: WWjuQWhrSBb4+BwpD/gos/jlfzykAB0+UCZvCFGv6NDDS/kZVP99QflxGsbk/K/xgm7j+AVpsOrecPKng4jsUv68/WtzI8P66NlvgQxfBhZ7QKguhZ72/Rnr70B6CE2Eow5l5Ax8AyU2k9bu+TIAbDqtIchJjR6ug3p/3k/UhZY1gEMIa6mSrSMyH7ysoxQoG4EwiFvaplWxp5RsDkWj/IdCt1UTNNIAM8oWBUhAt1AmWYkCRmzidgN3QIWmTpCMKdW49YHLQ5tg7SDZmWwmfu0LTgBl6SNAlNeNh4Dx2ZLeuRPR2OqAFX3LJp1sg1WN1hPWGvVO8g8zn4pr/dA9uw== 
  
install:
  - gem install cassandra
  
build_image: shippable/minv2

script:
  - cassandra-cli -host localhost -port 9160 -f schema.txt
  - ruby sample.rb
  - cassandra-cli -host localhost -port 9160 -f removeKeyspace.txt
  - echo $key1
  
archive: true

notifications:
  email: false
  
#cache: true
